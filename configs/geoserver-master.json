{
	"id": "geoserver-master",
	"cpus": 1,
	"mem": 2048,
	"instances": 1,
	"args": [],
	"container": {
		"type": "DOCKER",
		"docker": {
			"image": "gisjedi/geoserver:2.8",
			"network": "BRIDGE",
			"portMappings": [
				{
					"containerPort": 8080,
					"hostPort": 0,
					"servicePort": 0,
					"protocol": "tcp"
				},
				{
					"containerPort": 8009,
					"hostPort": 0,
					"servicePort": 0,
					"protocol": "tcp"
				}
			]
		},
		"volumes": [
			{
				"containerPath": "/usr/local/tomcat/webapps/geoserver/data",
				"hostPath": "/shared/geoserver",
				"mode": "RW"
			}
		]
	},
	"healthChecks": [
		{
			"path": "/geoserver/web",
			"portIndex": 0,
			"protocol": "HTTP",
			"gracePeriodSeconds": 60,
			"intervalSeconds": 10,
			"maxConsecutiveFailures": 3,
			"timeoutSeconds": 10
		}
	],
	"env": {
		"GOSU_USER": "root:root",
		"GOSU_CHOWN": "/usr/local/tomcat"
	},
	"labels": {
		"HAPROXY_GROUP": "internal,external",
		"HAPROXY_0_PATH": "/geoserver/web",
		"HAPROXY_0_PORT": 80,
		"HAPROXY_0_BACKEND_WEIGHT": "1",
		"HAPROXY_0_VHOST": "geoserver.marathon.mesos"
	}
}